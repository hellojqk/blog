# 使用抓包工具解决常见开发问题

工作当中或多或少会听说过一些抓包工具，比如常见的HTTP抓包工具`Fiddler`、`Charles`和`Whistle`。高级一点的还有`wireshark`,`tcpdump`等。本文着重选择`Fiddler`和`wireshark`讲解如何使用抓包工具的使用帮助我们定位问题和提高开发效率。

## 为什么要使用抓包工具

- 前后端分离的项目中发生参数校验失败时，前端说传了，后端说没传。此时如果没有引入抓包工具，只能通过前后端各自中间件中打log的方式进行比对校验。
- 对接外部服务（比如阿里云上的一些产品），官方没有提供相应语言的SDK，在基于官方API文档和Java SDK翻译调试时对比数据。
- 在做一些列表页时，想要看分页效果，但不方便直接生成测试数据SQL，只能在后台手动录入表单数据。如果后台没有提供复制功能，效率会非常低，常见的抓包工具都提供了数据修改重放功能，快速新增数据。
- 便于理解HTTP协议，SSL/TLS协议，TCP/IP协议
- 近期实际遇到的一些复杂问题
  - k8s集群启用了服务网格istio后，无法调用阿里云opensearch产品问题
  - 浏览器内访问https站点正常，但程序调用接口时报`unknow ca`等问题

## HTTP抓包实战

- `Fiddler` win平台最强 mac阉割版
- `Charles` mac最容易搜索到的
- `Whistle` node+browser
